import{j as C,a as x,t as he}from"../chunks/legacy.Bc-hJaG5.js";import{aA as de,aB as _e,T as me,Q as Y,h as b,d as ee,a2 as ae,B as O,n as k,Y as pe,a0 as Le,y as ne,a4 as Ee,a5 as W,m as $,l as G,o as ye,aC as S,a1 as te,C as z,aD as Ae,aE as Te,x as be,aF as Re,aG as re,ar as ke,F as we,W as Q,aH as xe,aI as Ce,aJ as Ie,j as Ne,a3 as Pe,G as Ue,aK as Be,p as J,aL as A,aM as se,f as I,a as q,J as N,I as g,O as w,t as De,aN as P}from"../chunks/runtime.BKTTeIqF.js";import{n as le,p as F,s as K,i as He}from"../chunks/i18n.Bn6b7SCv.js";import{p as V,h as Me}from"../chunks/stores.BcUrXKJx.js";import{p as D,i as ie}from"../chunks/props.Dij9VldC.js";import{s as Se}from"../chunks/slot.CWSDtf5K.js";import{i as oe}from"../chunks/lifecycle.9ZlX1hPB.js";import{s as fe,a as ue}from"../chunks/store.BTL598sS.js";import{s as X,L as Oe,a as Ge,b as Z}from"../chunks/index.Bui_j-fe.js";import{b as ce,i as Fe}from"../chunks/entry.mvMhNtn4.js";import{g as Ke}from"../chunks/index.DxP_q9fQ.js";function Ve(r,e,n){b&&ee();var s=r,a=pe,l,u=de()?_e:me;Y(()=>{u(a,a=e())&&(l&&ae(l),l=O(()=>n(s)))}),b&&(s=k)}function Ye(r,e){return e}function Je(r,e,n,s){for(var a=[],l=e.length,u=0;u<l;u++)Te(e[u].e,a,!0);var p=l>0&&a.length===0&&n!==null;if(p){var i=n.parentNode;be(i),i.append(n),s.clear(),R(r,e[0].prev,e[l-1].next)}Re(a,()=>{for(var d=0;d<l;d++){var t=e[d];p||(s.delete(t.k),R(r,t.prev,t.next)),re(t.e,!p)}})}function qe(r,e,n,s,a,l=null){var u=r,p={flags:e,items:new Map,first:null};b&&ee();var i=null,d=!1;Y(()=>{var t=n(),_=Le(t)?t:t==null?[]:ne(t),f=_.length;if(d&&f===0)return;d=f===0;let o=!1;if(b){var v=u.data===Ee;v!==(f===0)&&(u=W(),$(u),G(!1),o=!0)}if(b){for(var h=null,m,c=0;c<f;c++){if(k.nodeType===8&&k.data===ye){u=k,o=!0,G(!1);break}var L=_[c],y=s(L,c);m=ge(k,p,h,null,L,y,c,a,e),p.items.set(y,m),h=m}f>0&&$(W())}if(!b){var E=ke;We(_,p,u,a,e,(E.f&S)!==0,s)}l!==null&&(f===0?i?te(i):i=O(()=>l(u)):i!==null&&ae(i,()=>{i=null})),o&&G(!0),n()}),b&&(u=k)}function We(r,e,n,s,a,l,u){var p=r.length,i=e.items,d=e.first,t=d,_,f=null,o=[],v=[],h,m,c,L;for(L=0;L<p;L+=1){if(h=r[L],m=u(h,L),c=i.get(m),c===void 0){var y=t?t.e.nodes_start:n;f=ge(y,e,f,f===null?e.first:f.next,h,m,L,s,a),i.set(m,f),o=[],v=[],t=f.next;continue}if($e(c,h,L),c.e.f&S&&te(c.e),c!==t){if(_!==void 0&&_.has(c)){if(o.length<v.length){var E=v[0],T;f=E.prev;var H=o[0],U=o[o.length-1];for(T=0;T<o.length;T+=1)j(o[T],E,n);for(T=0;T<v.length;T+=1)_.delete(v[T]);R(e,H.prev,U.next),R(e,f,H),R(e,U,E),t=E,f=U,L-=1,o=[],v=[]}else _.delete(c),j(c,t,n),R(e,c.prev,c.next),R(e,c,f===null?e.first:f.next),R(e,f,c),f=c;continue}for(o=[],v=[];t!==null&&t.k!==m;)(l||!(t.e.f&S))&&(_??(_=new Set)).add(t),v.push(t),t=t.next;if(t===null)continue;c=t}o.push(c),f=c,t=c.next}if(t!==null||_!==void 0){for(var B=_===void 0?[]:ne(_);t!==null;)(l||!(t.e.f&S))&&B.push(t),t=t.next;var M=B.length;if(M>0){var ve=null;Je(e,B,ve,i)}}z.first=e.first&&e.first.e,z.last=f&&f.e}function $e(r,e,n,s){Ae(r.v,e),r.i=n}function ge(r,e,n,s,a,l,u,p,i){var d=(i&Ce)!==0,t=(i&Ie)===0,_=d?t?we(a):Q(a):a,f=i&xe?Q(u):u,o={i:f,v:_,k:l,a:null,e:null,prev:n,next:s};try{return o.e=O(()=>p(r,_,f),b),o.e.prev=n&&n.e,o.e.next=s&&s.e,n===null?e.first=o:(n.next=o,n.e.next=o.e),s!==null&&(s.prev=o,s.e.prev=o.e),o}finally{}}function j(r,e,n){for(var s=r.next?r.next.e.nodes_start:n,a=e?e.e.nodes_start:n,l=r.e.nodes_start;l!==s;){var u=Ne(l);a.before(l),l=u}}function R(r,e,n){e===null?r.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ze(r,e,...n){var s=r,a=Ue,l;Y(()=>{a!==(a=e())&&(l&&(re(l),l=null),l=O(()=>a(s,...n)))},Pe),b&&(s=k)}const Qe=Be;function Xe(r,e){return r.protocol!==e.protocol?e.href:e.password||e.username?"//"+[e.username,e.password].filter(Boolean).join(":")+"@"+e.host+e.pathname+e.search+e.hash:r.host!==e.host?"//"+e.host+e.pathname+e.search+e.hash:e.pathname+e.search+e.hash}function Ze(r,e,n){const s=new URL(n??"/",e).pathname;return r.origin!==e.origin||!r.pathname.startsWith(s)}var je=he('<link rel="alternate">');function ea(r,e){J(e,!1);const n=fe(),s=()=>ue(V,"$page",n),a=P(),l=P(),u=P(),p=le(ce,new URL(s().url))||"/";let i=D(e,"availableLanguageTags",8),d=D(e,"strategy",8),t=D(e,"currentLang",8);const _=(v,h)=>{const m=[];for(const c of i()){const L=h.getLocalisedPath(v,c),y=K(L,p,void 0),E=new URL(y,new URL(s().url)).href;m.push(E)}return m};A(()=>s(),()=>{N(a,F(s().url.pathname,p)[0])}),A(()=>(w(d()),g(a),w(t())),()=>{N(l,d().getCanonicalPath(g(a),t()))}),A(()=>(g(l),w(d())),()=>{N(u,_(g(l),d()))}),se(),oe();var f=C(),o=I(f);ie(o,()=>i().length>=1,v=>{var h=C(),m=I(h);qe(m,1,()=>g(u),Ye,(c,L,y)=>{var E=je();De(()=>{X(E,"hreflang",i()[y]),X(E,"href",g(L))}),x(c,E)}),x(v,h)}),x(r,f),q()}const aa=(r,e)=>`${Oe}=${r};Path=${e};SameSite=lax;Max-Age=31557600`;function na(r,e){J(e,!1);const n=fe(),s=()=>ue(V,"$page",n),a=P(),l=P(),u=le(ce,new URL(s().url))||"/";let p=D(e,"languageTag",24,()=>{}),i=D(e,"i18n",8),d=P(0);function t(o,v){try{const h=new URL(Ke(V).url),[m,c]=F(h.pathname,u),L=i().strategy.getCanonicalPath(m,g(a)),y=new URL(h);y.pathname=K(L,u,c);const E=new URL(o,new URL(y));if(Ze(E,h,u)||i().config.exclude(E.pathname))return o;const T=v??g(a),[H,U]=F(E.pathname,u),B=i().strategy.getLocalisedPath(H,T),M=new URL(E);return M.pathname=K(B,u,U),Xe(h,M)}catch{return o}}Ge({translateHref:t}),A(()=>(w(p()),w(i()),s()),()=>{N(a,p()??i().getLanguageFromUrl(s().url))}),A(()=>(w(i()),g(a)),()=>{i().config.runtime.setLanguageTag(g(a))}),A(()=>g(a),()=>{document.documentElement.lang=g(a)}),A(()=>(w(i()),g(a)),()=>{document.documentElement.dir=i().config.textDirection[g(a)]??"ltr"}),A(()=>(g(a),g(d)),()=>{g(a)&&N(d,g(d)+1)}),A(()=>(g(a),g(d),Z),()=>{g(a)&&(g(d)>1||Qe)&&Fe(Z)}),A(()=>g(a),()=>{N(l,g(a))}),A(()=>g(a),()=>{document.cookie=aa(g(a),u)}),se(),oe();var _=C();Me(o=>{var v=C(),h=I(v);ie(h,()=>i().config.seo.noAlternateLinks!==!0&&!i().config.exclude(s().url.pathname),m=>{ea(m,{get availableLanguageTags(){return i().config.runtime.availableLanguageTags},get strategy(){return i().strategy},get currentLang(){return g(a)}})}),x(o,v)});var f=I(_);Ve(f,()=>g(l),o=>{var v=C(),h=I(v);Se(h,e,"default",{}),x(o,v)}),x(r,_),q()}function ha(r,e){J(e,!0),na(r,{i18n:He,children:(n,s)=>{var a=C(),l=I(a);ze(l,()=>e.children),x(n,a)},$$slots:{default:!0}}),q()}export{ha as component};
